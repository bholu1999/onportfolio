!function () { var e = function (e) { this.element = e, this.password = this.element.getElementsByClassName("js-password__input")[0], this.visibilityBtn = this.element.getElementsByClassName("js-password__btn")[0], this.visibilityClass = "password--text-is-visible", this.initPassword() }; e.prototype.initPassword = function () { var t = this; this.visibilityBtn.addEventListener("click", function (e) { document.activeElement !== t.password && (e.preventDefault(), t.togglePasswordVisibility()) }) }, e.prototype.togglePasswordVisibility = function () { var e = !Util.hasClass(this.element, this.visibilityClass); Util.toggleClass(this.element, this.visibilityClass, e), e ? this.password.setAttribute("type", "text") : this.password.setAttribute("type", "password") }; var t = document.getElementsByClassName("js-password"); if (0 < t.length) for (var s = 0; s < t.length; s++)new e(t[s]) }(), function () { var t = function (e) { this.options = Util.extend(t.defaults, e), this.element = this.options.element, this.input = this.element.getElementsByClassName("js-password-strength__input"), this.reqs = this.element.getElementsByClassName("js-password-strength__req"), this.strengthSection = this.element.getElementsByClassName("js-password-strength__meter-wrapper"), this.strengthValue = this.element.getElementsByClassName("js-password-strength__value"), this.strengthMeter = this.element.getElementsByClassName("js-password-strength__meter"), this.passwordInteracted = !1, this.reqMetClass = "password-strength__req--met", this.reqNoMetClass = "password-strength__req--no-met", function (e) { e.checkStrength = !0; var t = e.element.getAttribute("data-check-strength"); t && "off" == t && (e.checkStrength = !1) }(this), function (e) { e.checkStrength || (e.strengthLabels = !1); e.strengthLabels = ["Bad", "Weak", "Good", "Strong"]; var t = e.element.getAttribute("data-strength-labels"); if (t) { var s = t.split(","); if (s.length < 4) return; e.strengthLabels = s.map(function (e) { return e.trim() }) } }(this), function (e) { if (0 == e.input.length) return; s(e), n(e), i(e), r = e, r.input[0].addEventListener("input", function (e) { s(r), n(r), i(r) }), r.input[0].addEventListener("blur", function e(t) { r.input[0].removeEventListener("blur", e), r.passwordInteracted = !0; for (var s = 0; s < r.reqs.length; s++)Util.hasClass(r.reqs[s], r.reqMetClass) || Util.addClass(r.reqs[s], r.reqNoMetClass) }); var r }(this) }; function s(e) { 0 != e.strengthSection.length && Util.toggleClass(e.strengthSection[0], "is-hidden", 0 == e.input[0].value.length) } function n(e) { if (e.checkStrength && zxcvbn) { var t, s, r = zxcvbn(e.input[0].value); if (0 < e.strengthValue.length && (1 <= r.score ? e.strengthValue[0].textContent = e.strengthLabels[r.score - 1] : e.strengthValue[0].textContent = e.strengthLabels[0]), 0 < e.strengthMeter.length) { var n = r.score; 0 == n && 0 < e.input[0].value.length && (n = 1), e.strengthMeter[0].firstElementChild.style.width = n / .04 + "%", s = (t = e).strengthMeter[0].className.split(" ").filter(function (e) { return 0 !== e.lastIndexOf("password-strength__meter--fill-", 0) }), t.strengthMeter[0].className = s.join(" ").trim(), 1 <= r.score ? Util.addClass(e.strengthMeter[0], "password-strength__meter--fill-" + r.score) : Util.addClass(e.strengthMeter[0], "password-strength__meter--fill-1") } } } function i(e) { for (var t = 0; t < e.reqs.length; t++) { var s = e.reqs[t].getAttribute("data-password-req"), r = !1; r = e.options[s] ? e.options[s](e.input[0].value) : a(e.input[0].value, s), Util.toggleClass(e.reqs[t], e.reqMetClass, r), e.passwordInteracted && Util.toggleClass(e.reqs[t], e.reqNoMetClass, !r) } } function a(e, t) { var s; switch (!0) { case "uppercase" == t.trim(): s = e.toLowerCase() != e; break; case "lowercase" == t.trim(): s = e.toUpperCase() != e; break; case "number" == t.trim(): s = /\d/.test(e); break; case 0 == t.indexOf("length:"): var r = t.split(":"); s = e.length >= parseInt(r[1]), 2 < r.length && s && (s = e.length <= parseInt(r[2])); break; case "special" == t.trim(): s = /[!@#$%^&*=~`'"|/\?\_\-\,\;\.\:\(\)\{\}\[\]\+\>\<\\]/.test(e); break; case "letter" == t.trim(): s = /[a-zA-Z]/.test(e); break; default: s = !1 }return s } t.defaults = { element: !1 }, window.PasswordStrength = t; var e = document.getElementsByClassName("js-password-strength"); if (0 < e.length) for (var r = 0; r < e.length; r++)new t({ element: e[r] }) }(), function () { var e = function (e) { var r; this.element = e, this.input = this.element.getElementsByClassName("file-upload__input")[0], this.label = this.element.getElementsByClassName("file-upload__label")[0], this.multipleUpload = this.input.hasAttribute("multiple"), this.labelText = this.element.getElementsByClassName("file-upload__text")[0], this.initialLabel = this.labelText.textContent, (r = this).label.setAttribute("tabindex", "0"), r.input.setAttribute("tabindex", "-1"), r.input.addEventListener("focusin", function (e) { r.label.focus() }), r.label.addEventListener("keydown", function (e) { (e.keyCode && 13 == e.keyCode || e.key && "enter" == e.key.toLowerCase()) && r.input.click() }), r.input.addEventListener("change", function (e) { var t, s; s = "", s = (t = r).input.files && t.input.files.length < 1 ? t.initialLabel : t.multipleUpload && t.input.files && 1 < t.input.files.length ? t.input.files.length + " files" : t.input.value.split("\\").pop(), t.labelText.textContent = s }) }; var t = document.getElementsByClassName("file-upload"); if (0 < t.length) for (var s = 0; s < t.length; s++)new e(t[s]) }(), function () { var e = function (e) { var r; this.element = e, this.imgs = this.element.getElementsByClassName("js-choice-img"), this.isRadio = "radio" == this.imgs[0].getAttribute("role"), function (e) { for (var t = 0; t < e.imgs.length; t++) { var s = e.imgs[t].getAttribute("aria-checked"); "true" == s ? e.imgs[t].setAttribute("tabindex", "0") : e.isRadio ? e.imgs[t].removeAttribute("tabindex") : e.imgs[t].setAttribute("tabindex", "0") } }(this), (r = this).element.addEventListener("click", function (e) { var t = e.target.closest(".js-choice-img"); if (t) { var s = Util.getIndexInArray(r.imgs, t); r.isRadio ? i(r, t, s) : n(r, t, s) } }), r.element.addEventListener("keydown", function (e) { var t = e.target.closest(".js-choice-img"); if (t) if (e.keyCode && 32 == e.keyCode || e.key && " " == e.key.toLowerCase()) { if (r.isRadio) return; e.preventDefault(); var s = Util.getIndexInArray(r.imgs, t); n(r, t, s) } else if (e.keyCode && (40 == e.keyCode || 39 == e.keyCode) || e.key && ("arrowdown" == e.key.toLowerCase() || "arrowright" == e.key.toLowerCase())) { if (!r.isRadio) return; e.preventDefault(), a(r, 1) } else if (e.keyCode && (38 == e.keyCode || 37 == e.keyCode) || e.key && ("arrowup" == e.key.toLowerCase() || "arrowleft" == e.key.toLowerCase())) { if (!r.isRadio) return; e.preventDefault(), a(r, -1) } }) }; function n(e, t, s) { var r = "false" == t.getAttribute("aria-checked") ? "true" : "false"; t.setAttribute("aria-checked", r), t.focus() } function i(e, t, s) { var r = "false" == t.getAttribute("aria-checked") ? "true" : "false"; if ("true" == r) { t.setAttribute("aria-checked", r), t.setAttribute("tabindex", "0"); for (var n = 0; n < e.imgs.length; n++)n != s && (e.imgs[n].setAttribute("aria-checked", "false"), e.imgs[n].removeAttribute("tabindex")) } t.focus() } function a(e, t) { var s = e.element.querySelector('[aria-checked="true"]'); if (s) { var r = Util.getIndexInArray(e.imgs, s); (r += t) < 0 && (r = e.imgs.length - 1), r >= e.imgs.length && (r = 0), i(e, e.imgs[r], r) } } var t = document.getElementsByClassName("js-choice-imgs"); if (0 < t.length) for (var s = 0; s < t.length; s++)new e(t[s]) }(), function () { var e = function (e) { this.element = e, this.btns = this.element.getElementsByClassName("js-choice-btn"), this.inputs = function (e) { for (var t = [], s = 0; s < e.btns.length; s++)t.push(e.btns[s].getElementsByTagName("input")[0]); return t }(this), this.isRadio = "radio" == this.inputs[0].type.toString(), s(this), function (r) { r.element.addEventListener("click", function (e) { if (!(-1 < Util.getIndexInArray(r.inputs, e.target))) { var t = e.target.closest(".js-choice-btn"); if (t) { var s = Util.getIndexInArray(r.btns, t); r.isRadio && r.inputs[s].checked || (r.inputs[s].checked = !r.inputs[s].checked, r.inputs[s].dispatchEvent(new CustomEvent("change"))), r.inputs[s].focus() } } }); for (var e = 0; e < r.btns.length; e++)!function (t) { r.inputs[t].addEventListener("change", function (e) { r.isRadio ? s(r) : n(r, t) }), r.inputs[t].addEventListener("focus", function (e) { i(r, t, !0) }), r.inputs[t].addEventListener("blur", function (e) { i(r, t, !1) }) }(e) }(this) }; function s(e) { for (var t = 0; t < e.btns.length; t++)n(e, t) } function n(e, t) { Util.toggleClass(e.btns[t], "choice-btn--checked", e.inputs[t].checked) } function i(e, t, s) { Util.toggleClass(e.btns[t], "choice-btn--focus", s) } var t = document.getElementsByClassName("js-choice-btns"); if (0 < t.length) for (var r = 0; r < t.length; r++)new e(t[r]) }(), function () { var s = function (e) { var t; this.options = Util.extend(s.defaults, e), this.element = this.options.element, this.input = [], this.textarea = [], this.select = [], this.errorFields = [], this.errorFieldListeners = [], (t = this).input = t.element.querySelectorAll("input"), t.textarea = t.element.querySelectorAll("textarea"), t.select = t.element.querySelectorAll("select") }; function r(t, s) { if (s.checkValidity()) { var e = s.getAttribute("data-validate"); e && t.options.customValidate[e] && t.options.customValidate[e](s, function (e) { e || t.errorFields.push(s) }) } else t.errorFields.push(s) } function n(e, t) { i(e, t, !0); var s = e.errorFieldListeners.length; e.errorFieldListeners[s] = function () { i(e, t, !1), t.removeEventListener("change", e.errorFieldListeners[s]), t.removeEventListener("input", e.errorFieldListeners[s]) }, t.addEventListener("change", e.errorFieldListeners[s]), t.addEventListener("input", e.errorFieldListeners[s]) } function i(e, t, s) { if (s ? Util.addClass(t, e.options.inputErrorClass) : Util.removeClass(t, e.options.inputErrorClass), e.options.inputWrapperErrorClass) { var r = t.closest(".js-form-validate__input-wrapper"); r && (s ? Util.addClass(r, e.options.inputWrapperErrorClass) : Util.removeClass(r, e.options.inputWrapperErrorClass)) } } s.prototype.validate = function (e) { !function (e) { e.errorFields = [], function (e) { for (var t = 0; t < e.errorFields.length; t++)i(e, e.errorFields[t], !1), e.errorFields[t].removeEventListener("change", e.errorFieldListeners[t]), e.errorFields[t].removeEventListener("input", e.errorFieldListeners[t]); e.errorFields = [], e.errorFieldListeners = [] }(e); for (var t = 0; t < e.input.length; t++)r(e, e.input[t]); for (var t = 0; t < e.textarea.length; t++)r(e, e.textarea[t]); for (var t = 0; t < e.select.length; t++)r(e, e.select[t]); for (var t = 0; t < e.errorFields.length; t++)n(e, e.errorFields[t]); 0 < e.errorFields.length && e.errorFields[0].focus() }(this), e && e(this.errorFields) }, s.defaults = { element: "", inputErrorClass: "form-control--error", inputWrapperErrorClass: "form-validate__input-wrapper--error", customValidate: {} }, window.FormValidator = s }(), function () { var e = function (e, t) { this.element = e, this.steps = this.element.getElementsByClassName("js-wiz-form__step"), this.currentIndex = 0, this.stepPrevClass = "wiz-form__step--prev", this.stepNextClass = "wiz-form__step--next", this.currentClass = "js-wiz-form__step--current", this.navPrev = this.element.getElementsByClassName("js-wiz-form__prev"), this.navNext = this.element.getElementsByClassName("js-wiz-form__next"), this.formSubmit = this.element.getElementsByClassName("js-wiz-form__submit"), this.stepsBar = this.element.getElementsByClassName("js-wiz-form__step-indicator"), 0 < this.stepsBar.length && (this.stepsBarCurrent = this.stepsBar[0].getElementsByClassName("js-wiz-form__current-step"), this.stepsBarTot = this.stepsBar[0].getElementsByClassName("js-wiz-form__tot-steps")), this.formValidator = t, this.formValidatorSteps = [], function (s) { t = s, r = t.element.getElementsByClassName(t.currentClass), t.currentIndex = 0 < r.length ? Util.getIndexInArray(t.steps, r[0]) : 0, i(t), a(s), e = s, e.stepsBarTot && 0 < e.stepsBarTot.length && (e.stepsBarTot[0].textContent = e.steps.length, e.stepsBar[0].style.setProperty("--steps-v2-steps-nr", e.steps.length)), l(s), s.formValidator && function (e) { for (var t = e.formValidator, s = 0; s < e.steps.length; s++)t.element = e.steps[s], e.formValidatorSteps.push(new FormValidator(t)) }(s); var e; var t, r; s.element.addEventListener("click", function (t) { s.formValidator && t.target.closest(".js-wiz-form__next") ? s.formValidatorSteps[s.currentIndex].validate(function (e) { 0 == e.length && n(s, t) }) : n(s, t) }) }(this) }; function n(e, t) { t.target.closest(".js-wiz-form__next") && s(e, "next"), t.target.closest(".js-wiz-form__prev") && s(e, "prev") } function i(e) { for (var t = 0; t < e.steps.length; t++)t < e.currentIndex ? (Util.addClass(e.steps[t], e.stepPrevClass), Util.removeClass(e.steps[t], e.stepNextClass + " " + e.currentClass)) : t > e.currentIndex ? (Util.addClass(e.steps[t], e.stepNextClass), Util.removeClass(e.steps[t], e.stepPrevClass + " " + e.currentClass)) : (Util.addClass(e.steps[t], e.currentClass), Util.removeClass(e.steps[t], e.stepNextClass + " " + e.stepPrevClass)) } function a(e) { 0 < e.navPrev.length && (0 < e.currentIndex ? Util.removeClass(e.navPrev[0], "is-hidden") : Util.addClass(e.navPrev[0], "is-hidden")), 0 < e.navNext.length && 0 < e.formSubmit.length && (e.currentIndex == e.steps.length - 1 ? (Util.addClass(e.navNext[0], "is-hidden"), Util.removeClass(e.formSubmit[0], "is-hidden")) : (Util.removeClass(e.navNext[0], "is-hidden"), Util.addClass(e.formSubmit[0], "is-hidden"))) } function l(e) { e.stepsBarCurrent && 0 < e.stepsBarCurrent.length && (e.stepsBar[0].style.setProperty("--step-v2-current-step", e.currentIndex + 1), e.stepsBarCurrent[0].textContent = e.currentIndex + 1) } function s(e, t) { e.currentIndex = "next" == t ? e.currentIndex + 1 : e.currentIndex - 1, r(e) } function r(e) { e.currentIndex < 0 && (e.currentIndex = 0), e.currentIndex > e.steps.length && (e.currentIndex = e.steps.length), e.currentIndex < e.steps.length ? (i(e), a(e), l(e)) : e.currentIndex = e.steps.length - 1 } e.prototype.showStep = function (e) { this.currentIndex = e - 1, r(this) }, window.WizardForm = e }();